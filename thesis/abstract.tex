\par Integrated Heterogeneous System (IHS) processors pack throughput-oriented GPGPUs alongside latency-oriented CPUs on the same die sharing certain resources, e.g. shared last level cache, network-on-chip (NoC), and the main memory. They also share virtual and physical address spaces and unify the memory hierarchy. The IHS architecture allows for easier programmability, data management and efficiency. The demands for memory accesses and other shared resources from GPU cores can exceed that of CPU cores by 2 to 3 orders of magnitude. This disparity poses significant problems in exploiting the full potential of these architectures.
\par In this work, we propose adding a large capacity stacked DRAM, used as a shared last level cache, for the IHS processors. For the IHS processors, the reduced latency of access and large bandwidth provided by these DRAMCaches can help improve performance of CPU and GPGPUs respectively while the large capacities can help contain the working set of the IHS workloads. However, adding the DRAMCache naively, leaves significant performance on the table due to the disparate demands from CPU and GPU cores for DRAMCache and memory accesses. In particular, the imbalance can significantly reduce the performance benefits that the CPU cores would have otherwise enjoyed with the introduction of the DRAMCache, necessitating a heterogeneity aware management of this shared resource for improved performance. Further, in this work we propose three simple techniques to enhance the performance of CPU application while ensuring very little to no performance impact to the GPU. Specifically, we propose (i) PrIS, a prioritization scheme for scheduling CPU
requests at the DRAMCache controller (ii) ByE, a selective and temporal bypassing scheme for CPU requests at the DRAMCache (iii) Chaining, an occupancy controlling mechanism for GPU lines in the DRAMCache through pseudo-associativity. The resulting cache, \cachename, is heterogeneity-aware and can adapt dynamically to address the inherent disparity of demands in an IHS architecture with simple light weight schemes. 
\par We enhance the gem5-gpu simulator to model an IHS architecture with a stacked DRAM as cache, complete with coherence and unified physical memory. Using this setup we perform detailed experimental evaluation of the proposed \cachename\ which results in an average system performance improvement of 41\% over a naive DRAMCache and over 200\% improvement over a baseline system with no stacked DRAMCache.
